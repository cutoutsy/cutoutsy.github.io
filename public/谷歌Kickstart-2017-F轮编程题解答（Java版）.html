<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"fengxc.me","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.23.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"default","dark":"stackoverflow-dark"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"language":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js" defer></script>

    <meta name="description" content="MathJax.Hub.Config({ tex2jax: {inlineMath: [[&#39;$&#39;,&#39;$&#39;], [&#39;\\(&#39;,&#39;\\)&#39;]]} });      写在前面听说Google的Kickstart应该是在半年前，Google Kickstart即是原APAC Test，G家的校园招聘线上笔试，不过一直没有认真参加过，这个比赛时间一般是周日的下午1点到4点（北京时间），不过这次是后两轮是在">
<meta property="og:type" content="article">
<meta property="og:title" content="谷歌Kickstart 2017 F轮编程题解答（Java版）">
<meta property="og:url" content="https://fengxc.me/%E8%B0%B7%E6%AD%8CKickstart-2017-F%E8%BD%AE%E7%BC%96%E7%A8%8B%E9%A2%98%E8%A7%A3%E7%AD%94%EF%BC%88Java%E7%89%88%EF%BC%89.html">
<meta property="og:site_name" content="会微积分的喵">
<meta property="og:description" content="MathJax.Hub.Config({ tex2jax: {inlineMath: [[&#39;$&#39;,&#39;$&#39;], [&#39;\\(&#39;,&#39;\\)&#39;]]} });      写在前面听说Google的Kickstart应该是在半年前，Google Kickstart即是原APAC Test，G家的校园招聘线上笔试，不过一直没有认真参加过，这个比赛时间一般是周日的下午1点到4点（北京时间），不过这次是后两轮是在">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://7oxhal.com1.z0.glb.clouddn.com/blog_google_kickstart.png">
<meta property="article:published_time" content="2017-09-28T15:30:10.000Z">
<meta property="article:modified_time" content="2025-04-10T14:09:26.381Z">
<meta property="article:author" content="会微积分的喵">
<meta property="article:tag" content="JAVA">
<meta property="article:tag" content="谷歌">
<meta property="article:tag" content="Kickstart">
<meta property="article:tag" content="F轮">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://7oxhal.com1.z0.glb.clouddn.com/blog_google_kickstart.png">


<link rel="canonical" href="https://fengxc.me/%E8%B0%B7%E6%AD%8CKickstart-2017-F%E8%BD%AE%E7%BC%96%E7%A8%8B%E9%A2%98%E8%A7%A3%E7%AD%94%EF%BC%88Java%E7%89%88%EF%BC%89.html">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://fengxc.me/%E8%B0%B7%E6%AD%8CKickstart-2017-F%E8%BD%AE%E7%BC%96%E7%A8%8B%E9%A2%98%E8%A7%A3%E7%AD%94%EF%BC%88Java%E7%89%88%EF%BC%89.html","path":"谷歌Kickstart-2017-F轮编程题解答（Java版）.html","title":"谷歌Kickstart 2017 F轮编程题解答（Java版）"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>谷歌Kickstart 2017 F轮编程题解答（Java版） | 会微积分的喵</title>
  








  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script>

  






  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">会微积分的喵</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">我走得很慢，但我从不后退</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
    </div>
  </div>
</div>







</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%99%E5%9C%A8%E5%89%8D%E9%9D%A2"><span class="nav-number">1.</span> <span class="nav-text">写在前面</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%8F%8A%E5%88%86%E6%9E%90"><span class="nav-number">2.</span> <span class="nav-text">题目及分析</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Problem-A-Kicksort"><span class="nav-number">2.1.</span> <span class="nav-text">Problem A. Kicksort</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%88%86%E6%9E%90"><span class="nav-number">2.1.1.</span> <span class="nav-text">题目分析</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Problem-B-Dance-Battle"><span class="nav-number">2.2.</span> <span class="nav-text">Problem B. Dance Battle</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E5%88%86%E6%9E%90-1"><span class="nav-number">2.2.1.</span> <span class="nav-text">题目分析</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Problem-C-Catch-Thme-All"><span class="nav-number">2.3.</span> <span class="nav-text">Problem C. Catch Thme All</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Problem-D-Eat-Cake"><span class="nav-number">2.4.</span> <span class="nav-text">Problem D. Eat Cake</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-number">3.</span> <span class="nav-text">总结</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">会微积分的喵</p>
  <div class="site-description" itemprop="description">Happy Code, Happy Life</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">128</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">17</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">204</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://fengxc.me/%E8%B0%B7%E6%AD%8CKickstart-2017-F%E8%BD%AE%E7%BC%96%E7%A8%8B%E9%A2%98%E8%A7%A3%E7%AD%94%EF%BC%88Java%E7%89%88%EF%BC%89.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="会微积分的喵">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="会微积分的喵">
      <meta itemprop="description" content="Happy Code, Happy Life">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="谷歌Kickstart 2017 F轮编程题解答（Java版） | 会微积分的喵">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          谷歌Kickstart 2017 F轮编程题解答（Java版）
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2017-09-28 15:30:10" itemprop="dateCreated datePublished" datetime="2017-09-28T15:30:10+00:00">2017-09-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-04-10 14:09:26" itemprop="dateModified" datetime="2025-04-10T14:09:26+00:00">2025-04-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">算法</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>0</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><script type="text/x-mathjax-config">
MathJax.Hub.Config({
tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
});
</script>

<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>

<h3 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h3><p>听说Google的Kickstart应该是在半年前，Google Kickstart即是原APAC Test，G家的校园招聘线上笔试，不过一直没有认真参加过，这个比赛时间一般是周日的下午1点到4点（北京时间），不过这次是后两轮是在周日下午4点开始，然后持续12个小时，自己选择其中的任意连续3个小时提交都有效。总的来说这次的题目比较简单，除了C题的large外。</p>
<p>本次共有4道题目，我只AC了前面2道。里面的解法是根据我的思考结合官方给出的分析给出的一些思路。</p>
<h3 id="题目及分析"><a href="#题目及分析" class="headerlink" title="题目及分析"></a>题目及分析</h3><p>原题目传送门：<a target="_blank" rel="noopener" href="https://code.google.com/codejam/contest/7254486/dashboard">Round F - Dashboard</a></p>
<p>本文我会对题目进行简单的中文描述。</p>
<h4 id="Problem-A-Kicksort"><a href="#Problem-A-Kicksort" class="headerlink" title="Problem A. Kicksort"></a>Problem A. Kicksort</h4><p>这儿有一种排序叫Kicksort，是来源于快速排序算法。快速排序算法选取一个基准，然后根据基准分为两组，然后在每组里递归的这样做。但是这种算法选取的基准可能会导致按照基准比较后只会产生一组而不是两组，这违反了这种算法的目的。我们称这种基准为最差基准。<br><span id="more"></span><br>为了避免这种情况，我们创建Kicksort算法，使用待排序序列的中间的值作为基准，算法如下：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Kicksort(A): <span class="comment">// A is a 0-indexed array with E elements</span></span><br><span class="line">    If E ≤ <span class="number">1</span>, <span class="keyword">return</span> A.</span><br><span class="line">    Otherwise:</span><br><span class="line">      Create empty <span class="keyword">new</span> <span class="title class_">lists</span> B and C.</span><br><span class="line">      Choose A[floor((E-<span class="number">1</span>)/<span class="number">2</span>)] as the pivot P.</span><br><span class="line">      <span class="type">For</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span> to E-<span class="number">1</span>, except <span class="type">for</span> <span class="variable">i</span> <span class="operator">=</span> floor((E-<span class="number">1</span>)/<span class="number">2</span>):</span><br><span class="line">        If A[i] ≤ P, append it to B.</span><br><span class="line">        Otherwise, append it to C.</span><br><span class="line">    Return the list <span class="title function_">Kicksort</span><span class="params">(B)</span> + P + Kicksort(C).</span><br></pre></td></tr></table></figure><br>通过使用Kicksort算法，我们发现Kicksort仍然存在对于每一次选取的基准，都是最差基准。比如数组：[1，4，3，2]。Kicksort算法首先选取4作为基准，然后原数组变为[1，3，2]。然后选取3作为基准，原数组变为[1，2]。选取1作为基准，原数组变为[2]。至此结束（Kicksort结束是数组长度为0或者1时），可以看出每次选取的基准都是最差基准。</p>
<p><strong>输入</strong><br>第一行是测试用例数量：T。<br>每个测试用例包括两行，N：元素个数。<br>接下来的一行是待排序的序列，元素大小从1到N，包括1到N。</p>
<p><strong>输出</strong><br>Case #x: y<br>x代表是第几个测试案例<br>y代表如果Kicksort算法一直选取最差基准则为“YES”，其他情况为“NO”。</p>
<p><strong>小数据集</strong><br>1 ≤ T ≤ 32<br>2 ≤ N ≤ 4</p>
<p><strong>大数组集</strong><br>1 ≤ T ≤ 100<br>2 ≤ N ≤ 10000</p>
<p><strong>例子：</strong><br>输入：<br>4<br>4<br>1 4 3 2<br>4<br>2 1 3 4<br>2<br>2 1<br>3<br>1 2 3</p>
<p>输出：<br>Case #1: YES<br>Case #2: NO<br>Case #3: YES<br>Case #4: NO</p>
<h5 id="题目分析"><a href="#题目分析" class="headerlink" title="题目分析"></a>题目分析</h5><p>这个题目和快速排序相关，思路还是比较清晰的，我的思路是模拟快速排序，不过是选取中间的值作为基准，而不是我们平常在快速排序中的选取最后的值作为基准，如果在排序的过程中，如果存在按基准值分开为2组，则返回NO，如果一直按基准值分开后都是一组，则返回YES。</p>
<p><strong>具体代码：</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Problem1</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> List <span class="title function_">isWorstPivots</span><span class="params">(List&lt;Integer&gt; list)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (list.size() &lt;= <span class="number">1</span>) <span class="keyword">return</span> list;</span><br><span class="line">        List&lt;Integer&gt; left = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        List&lt;Integer&gt; right = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">int</span> <span class="variable">pivot</span> <span class="operator">=</span> list.get((list.size()-<span class="number">1</span>)/<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; list.size(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i != (list.size()-<span class="number">1</span>)/<span class="number">2</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (list.get(i) &lt;= pivot) &#123;</span><br><span class="line">                    left.add(list.get(i));</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    right.add(list.get(i));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (left.size() != <span class="number">0</span> &amp;&amp; right.size() != <span class="number">0</span>)&#123;</span><br><span class="line">            flag = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        List&lt;Integer&gt; ans = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        ans.addAll(onlyWorstPivots(left));</span><br><span class="line">        ans.add(pivot);</span><br><span class="line">        ans.addAll(onlyWorstPivots(right));</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;    </span><br></pre></td></tr></table></figure><br>这个代码使用flag作为每一次的标志，如果为TRUE，则返回“YES“，反之则返回“NO“”。这种算法的时间复杂度为$O(n^2)$。</p>
<p>下面介绍一种时间复杂度为O(n)的算法，这是官方题解介绍的。<br>首先我们考虑返回YES的不同长度序列，我们可以发现它们使用的索引都是一样的。举个例子，<br>对于长度为6的序列，首先会选取索引为(N-1)/2对于的值，即索引为2的值作为索引，然后剩余的部分组成一个长度为5的序列，这时选取索引为2的值，这个对应于原序列的索引3，如果我们继续这样下去，选取的值的索引在原序列中的所有依次为2，3，1，4，0，5。即我们开始于(N-1)/2，然后向右移动1，然后向左移动2，然后向右移动3……这个不依赖于序列里的值。</p>
<p>对于长度为奇数的情况，也是类似的，最开始从(N-1)/2开始，然后向左移动1，然后向右移动2，然后向左移动3……</p>
<p>这样我们就按照这索引规律，在每次索引的时候判断该索引对应的值是不是最大值或则最小值。如果一直都是最大值或者最小值，则最后返回“YES”，反之则返回“NO”。</p>
<p>对于本题来说，由于序列的元素是1~N，所以最小值是1，最大值是N，在代码里维护好这两个值就可以了。</p>
<p><strong>具体代码：</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">isWorstPivots</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">min</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> nums.length;</span><br><span class="line">    <span class="type">int</span> <span class="variable">start</span> <span class="operator">=</span> (nums.length - <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">    <span class="type">int</span>[] move = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;= (nums.length - <span class="number">1</span>) / <span class="number">2</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> ((nums.length &amp; <span class="number">1</span>) == <span class="number">1</span>) &#123;</span><br><span class="line">            move[<span class="number">0</span>] = -<span class="number">1</span>;</span><br><span class="line">            move[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            move[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">            move[<span class="number">1</span>] = -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; move.length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> ((start + move[j] * i) &gt; -<span class="number">1</span> || (start + move[j] * i) &lt; nums.length ) &#123;</span><br><span class="line">                <span class="keyword">if</span> (nums[start + move[j] * i] == min) &#123;</span><br><span class="line">                    min++;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[start + move[j] * i] == max) &#123;</span><br><span class="line">                    max--;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (i == <span class="number">0</span>) <span class="keyword">break</span>; <span class="comment">//当i = 0时，即为初始位置，循环一次</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>这种思路的代码就比较简洁清晰了。我在做这个题的时候采取的是第一种思路（比较容易想到）。</p>
<h4 id="Problem-B-Dance-Battle"><a href="#Problem-B-Dance-Battle" class="headerlink" title="Problem B. Dance Battle"></a>Problem B. Dance Battle</h4><p>这个题目是关于在“舞蹈战争”中获取最大分数。首先你的团队有E点能量，0点的荣誉值。你会面对大小为N个对手团队的阵容，第i个团队他们的跳舞技能点为S<sub>i</sub>。</p>
<p>在每一轮与对手对战中，你可以采取下面这些策略：</p>
<ul>
<li>跳舞：你会损失能量值，大小为对手的S<sub>i</sub>，获得1点荣誉值，对手不会退回阵容中。你的能量值损失后不能小于等于0。</li>
<li>推迟：你的能量值和荣誉值不改变，对手会退回阵容中。</li>
<li>休战：你的能力值和荣誉值不改变，对手不退回阵容中。</li>
<li>招募：你招募对手到你的团队里，对手不退回阵容中。你增加对手的S<sub>i</sub>。你会损失1点荣誉值。你的荣誉值不能少于0。</li>
</ul>
<p>这场战争结束直到对手阵容里没有对手团队了。求你能获得的最大荣誉值。</p>
<p><strong>输入</strong><br>第一行：T，表示测试用例数。<br>接下来E N，E表示你的初始能量数，N表示对手的数量。<br>接着是N个对手对应的跳舞技能点S<sub>i</sub>。</p>
<p><strong>输出</strong><br>每行输出：Case #x: y。<br>x代表第几个测试用例。<br>y代表获得最大的荣誉值。</p>
<p><strong>限制：</strong><br>1 ≤ T ≤ 100。<br>1 ≤ E ≤ 106。<br>1 ≤ Si ≤ 106， for all i。</p>
<p><strong>小数据集：</strong><br>1 ≤ N ≤ 5</p>
<p><strong>大数据集：</strong><br>1 ≤ N ≤ 1000</p>
<p><strong>栗子：</strong><br>输入：<br>2<br>100 1<br>100<br>10 3<br>20 3 15</p>
<p>输出：<br>Case #1: 0<br>Case #2: 1</p>
<h5 id="题目分析-1"><a href="#题目分析-1" class="headerlink" title="题目分析"></a>题目分析</h5><p>这个题目其实是比较好想的，首先通过延时策略我们可以对对手按照S<sub>i</sub>进行由小到大排序。然后使用两个指针，初始一个指向最左边，一个指向最右边，首先从左边开始，如果当前的能量值大于S<sub>i</sub>，则进行跳舞策略，直到不满足为止。此时从右边开始（这个时候要确保至少还存在2个对手，若只剩一个对手时，直接执行休战策略即可），进行招募策略，招募后再移动左边的指针……整个过程保证能量值E大于0和荣誉值不小于0即可。</p>
<p><strong>具体代码：</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">findMaxHonor</span><span class="params">(<span class="type">int</span> energy, <span class="type">int</span>[] skills)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">honor</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    Arrays.sort(skills);</span><br><span class="line">    <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> skills.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; skills.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (skills[i] != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (energy &gt; skills[i] &amp;&amp; energy - skills[i] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                energy -= skills[i];</span><br><span class="line">                honor++;</span><br><span class="line">                skills[i] = <span class="number">0</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (energy &lt;= skills[i] &amp;&amp; honor &gt; <span class="number">0</span> &amp;&amp; size &gt; i) &#123;</span><br><span class="line">                energy += skills[size];</span><br><span class="line">                honor--;</span><br><span class="line">                skills[size] = <span class="number">0</span>;</span><br><span class="line">                size--;</span><br><span class="line">                i--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> honor;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="Problem-C-Catch-Thme-All"><a href="#Problem-C-Catch-Thme-All" class="headerlink" title="Problem C. Catch Thme All"></a>Problem C. Catch Thme All</h4><p>这个题目是以Pokemon GO抓取宠物小精灵为背景，这儿有一款游戏叫Codejamon GO，去街道上抓取宠物小精灵。</p>
<p>你的城市有N个位置从1~N，你开始在位置1。这儿有M条双向的道路（1~M）。第i条道路连接两个不同的位置(U<sub>i</sub>, V<sub>i</sub>)，并且需要花D<sub>i</sub>分钟从一边到另一边。保证从位置1可以到其他任何位置。</p>
<p>在时间为0时，一个宠物小精灵会等概率出现在除了你当前位置（时间：0，位置：1）的其他任何位置。即每个位置出现宠物的概率为1/(N-1)。宠物一出现，你就会立刻抓住它，即抓取过程没有时间花费。每次只有一个宠物小精灵存在，只有抓住了存在的这个才会出现下一个。</p>
<p>给你城市布局，计算抓取P个宠物小精灵的期望时间，假设你在两个位置走的是最快的路线。</p>
<p><strong>输入</strong><br>第一行：T，表示测试用例数目。<br>每个测试用例第一行为: N M P，N代表位置数目，M代表道路数目，P代表要抓取的宠物小精灵数目<br>接下来的是M条道路信息：U<sub>i</sub> V<sub>i</sub> D<sub>i</sub>，表示从位置U<sub>i</sub>到V<sub>i</sub>存在道路，且花费时间为D<sub>i</sub>。</p>
<p><strong>输出</strong><br>每行输出Case #x: y。<br>x代表第几个测试用例<br>y代表花费的期望时间，如果在正确答案的10-4的绝对或相对误差范围内，您的答案将被视为正确。</p>
<p><strong>限制：</strong><br>1 ≤ T ≤ 100.<br>N - 1 ≤ M ≤ (N * (N - 1)) / 2.<br>1 ≤ D<sub>i</sub> ≤ 10, for all i.<br>1 ≤ U<sub>i</sub> &lt; V<sub>i</sub> ≤ N, for all i.<br>For all i and j with i ≠ j, U<sub>i</sub> ≠ U<sub>i</sub> and/or V<sub>i</sub> ≠ V<sub>i</sub>。</p>
<p><strong>小数据集</strong><br>2 ≤ N ≤ 50.<br>1 ≤ P ≤ 200</p>
<p><strong>大数据集</strong><br>2 ≤ N ≤ 100.<br>1 ≤ P ≤ 109</p>
<p><strong>栗子</strong><br>输入：<br>4<br>5 4 1<br>1 2 1<br>2 3 2<br>1 4 2<br>4 5 1<br>2 1 200<br>1 2 5<br>5 4 2<br>1 2 1<br>2 3 2<br>1 4 2<br>4 5 1<br>3 3 1<br>1 2 3<br>1 3 1<br>2 3 1</p>
<p>输出：<br>Case #1: 2.250000<br>Case #2: 1000.000000<br>Case #3: 5.437500<br>Case #4: 1.500000</p>
<p><strong>题目分析</strong><br>首先我们可以想到图的最短路算法，比如使用Dijkstra算法或Floyd-Warshall算法来计算两点的最短路径，在这个题目里即是时间最短的路径。求出所有点之间的花费时间最少的路径的时间，后面会用到。然后我们可以根据动态规划来计算期望时间，令dp[K, L]代表从位置L出发抓取K个精灵的期望时间，然后我们可以得到状态转移方程：<br>dp[K, L] = Σ<sub>i!=L</sub>(dp[K-1, i] + dis[L, i]) / (N-1).</p>
<p>而dp[K, L] = 0 (K = 0)</p>
<p><strong>具体代码：</strong><br>图的顶点类：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">public class Vertex implements Comparable&lt;Vertex&gt;&#123;</span><br><span class="line">    private int path;    // 最短路径长度</span><br><span class="line">    private boolean isMarked;    // 节点是否已经出列（是否已经处理完毕）</span><br><span class="line">    </span><br><span class="line">    public int getPath() &#123;</span><br><span class="line">        return path;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setPath(int path) &#123;</span><br><span class="line">        this.path = path;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Vertex() &#123;</span><br><span class="line">        this.path = Integer.MAX_VALUE;</span><br><span class="line">        this.isMarked = false;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Vertex(int path) &#123;</span><br><span class="line">        this.path = path;</span><br><span class="line">        this.isMarked = false;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public int compareTo(Vertex o) &#123;</span><br><span class="line">        return o.path &gt; path ? -1 : 1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setMarked(boolean mark) &#123;</span><br><span class="line">        this.isMarked = mark;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public boolean isMarked() &#123;</span><br><span class="line">        return this.isMarked;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>计算期望时间：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Problem3</span> &#123;</span><br><span class="line">    <span class="comment">// 顶点</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;Vertex&gt; vertexs;</span><br><span class="line">    <span class="comment">// 边</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[][] edges;</span><br><span class="line">    <span class="comment">// 没有访问的顶点</span></span><br><span class="line">    <span class="keyword">private</span> PriorityQueue&lt;Vertex&gt; unVisited;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Problem3</span><span class="params">(List&lt;Vertex&gt; vertexs, <span class="type">int</span>[][] edges)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.vertexs = vertexs;</span><br><span class="line">        <span class="built_in">this</span>.edges = edges;</span><br><span class="line">        initUnVisited();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 初始化未访问顶点集合</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">initUnVisited</span><span class="params">()</span> &#123;</span><br><span class="line">        unVisited = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;Vertex&gt;();</span><br><span class="line">        <span class="keyword">for</span> (Vertex v : vertexs) &#123;</span><br><span class="line">            unVisited.add(v);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 搜索各顶点最短路径</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">search</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (!unVisited.isEmpty()) &#123;</span><br><span class="line">            <span class="type">Vertex</span> <span class="variable">vertex</span> <span class="operator">=</span> unVisited.peek();</span><br><span class="line">            vertex.setMarked(<span class="literal">true</span>);</span><br><span class="line">            List&lt;Vertex&gt; neighbors = getNeighbors(vertex);</span><br><span class="line">            updatesDistabce(vertex, neighbors);</span><br><span class="line">            unVisited.poll();</span><br><span class="line">            List&lt;Vertex&gt; temp = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">            <span class="keyword">while</span> (!unVisited.isEmpty()) &#123;</span><br><span class="line">                temp.add(unVisited.poll());</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (Vertex v : temp) &#123;</span><br><span class="line">                unVisited.add(v);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 更新所有邻居的最短路径</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">updatesDistabce</span><span class="params">(Vertex vertex, List&lt;Vertex&gt; neighbors)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (Vertex neighbor: neighbors) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">distance</span> <span class="operator">=</span> getDistance(vertex, neighbor) + vertex.getPath();</span><br><span class="line">            <span class="keyword">if</span> (distance &lt; neighbor.getPath()) &#123;</span><br><span class="line">                neighbor.setPath(distance);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">getDistance</span><span class="params">(Vertex source, Vertex destination)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sourceIndex</span> <span class="operator">=</span> vertexs.indexOf(source);</span><br><span class="line">        <span class="type">int</span> <span class="variable">destIndex</span> <span class="operator">=</span> vertexs.indexOf(destination);</span><br><span class="line">        <span class="keyword">return</span> edges[sourceIndex][destIndex];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> List&lt;Vertex&gt; <span class="title function_">getNeighbors</span><span class="params">(Vertex vertex)</span> &#123;</span><br><span class="line">        List&lt;Vertex&gt; neighbors = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Vertex&gt;();</span><br><span class="line">        <span class="type">int</span> <span class="variable">position</span> <span class="operator">=</span> vertexs.indexOf(vertex);</span><br><span class="line">        <span class="type">Vertex</span> <span class="variable">neighbor</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">int</span> distance;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; vertexs.size(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i == position) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            distance = edges[position][i];</span><br><span class="line">            <span class="keyword">if</span> (distance &lt; Integer.MAX_VALUE) &#123;</span><br><span class="line">                neighbor = vertexs.get(i);</span><br><span class="line">                <span class="keyword">if</span> (!neighbor.isMarked()) &#123;</span><br><span class="line">                    neighbors.add(neighbor);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> neighbors;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">calculateExpectedTimeSmallDataSet</span><span class="params">(<span class="type">int</span> locations, <span class="type">int</span> codejamGo, List&lt;String&gt; graph)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[][] edges = <span class="keyword">new</span> <span class="title class_">int</span>[locations][locations];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; locations; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; locations; j++) &#123;</span><br><span class="line">                edges[i][j] = Integer.MAX_VALUE;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; graph.size(); i++) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">edge</span> <span class="operator">=</span> graph.get(i);</span><br><span class="line">            <span class="type">int</span> <span class="variable">source</span> <span class="operator">=</span> Integer.valueOf(edge.split(<span class="string">&quot; &quot;</span>)[<span class="number">0</span>]);</span><br><span class="line">            <span class="type">int</span> <span class="variable">destination</span> <span class="operator">=</span> Integer.valueOf(edge.split(<span class="string">&quot; &quot;</span>)[<span class="number">1</span>]);</span><br><span class="line">            <span class="type">int</span> <span class="variable">value</span> <span class="operator">=</span> Integer.valueOf(edge.split(<span class="string">&quot; &quot;</span>)[<span class="number">2</span>]);</span><br><span class="line">            edges[source - <span class="number">1</span>][destination - <span class="number">1</span>] = value;</span><br><span class="line">            edges[destination - <span class="number">1</span>][source - <span class="number">1</span>] = value;</span><br><span class="line">        &#125;</span><br><span class="line">        List&lt;Vertex&gt; vertexs = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">begin</span> <span class="operator">=</span> <span class="number">0</span>; begin &lt; locations; begin++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; locations; i++) &#123;</span><br><span class="line">                vertexs.add((i == begin) ? <span class="keyword">new</span> <span class="title class_">Vertex</span>(<span class="number">0</span>) : <span class="keyword">new</span> <span class="title class_">Vertex</span>());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="type">Problem3</span> <span class="variable">problem3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Problem3</span>(vertexs, edges);</span><br><span class="line">            problem3.search();</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; vertexs.size(); i++) &#123;</span><br><span class="line">                edges[begin][i] = vertexs.get(i).getPath();</span><br><span class="line">            &#125;</span><br><span class="line">            vertexs.clear();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">double</span>[][] dp = <span class="keyword">new</span> <span class="title class_">double</span>[codejamGo + <span class="number">1</span>][locations];</span><br><span class="line">        Arrays.fill(dp[<span class="number">0</span>], <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; codejamGo + <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; locations; j++) &#123;</span><br><span class="line">                <span class="type">double</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt; locations; k++) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (k != j) &#123;</span><br><span class="line">                        sum += dp[i - <span class="number">1</span>][k] + edges[j][k];</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                dp[i][j] = sum / (locations - <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> dp[codejamGo][<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这种方式对于小数据集是完全能够解决的，但对于大数据集就不适用了，这个时候我们需要对状态转移方程进行简化。我们可以发现，对于每个dp[K, L]，都是dp[K-1, i]的线性表达式，定义 Σj!=i(dis[i, j])。则我们可以写成如下的形式：<br><img src="http://7oxhal.com1.z0.glb.clouddn.com/blog_google_kickstart.png" alt="状态转移方程化简"></p>
<p>F<sub>K</sub>代表dp[K, i]向量，A代表转移矩阵，我们可以得到<br>F<sub>K</sub> = A <em> F<sub>K-1</sub> = $A^K$ </em> F<sub>0</sub><br>在计算$A^K$时，我们可以使用快速幂算法。</p>
<p><strong>具体代码：</strong><br>快速幂算法：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MatricQuickPower</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span>[][] multiply(<span class="type">double</span> [][]a, <span class="type">double</span>[][]b)&#123;</span><br><span class="line">        <span class="type">double</span>[][] arr = <span class="keyword">new</span> <span class="title class_">double</span>[a.length][b[<span class="number">0</span>].length];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; a.length; i++)&#123;</span><br><span class="line">           <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; b[<span class="number">0</span>].length; j++)&#123;</span><br><span class="line">               <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt; a[<span class="number">0</span>].length; k++)&#123;</span><br><span class="line">                   arr[i][j] += a[i][k] * b[k][j];</span><br><span class="line">               &#125;  </span><br><span class="line">           &#125;  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">return</span> arr;  </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span>[][] multiplyPower(<span class="type">double</span>[][] a, <span class="type">int</span> n)&#123;</span><br><span class="line">        <span class="type">double</span>[][] res = <span class="keyword">new</span> <span class="title class_">double</span>[a.length][a[<span class="number">0</span>].length];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; res.length; i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; res[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i == j)</span><br><span class="line">                    res[i][j] = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    res[i][j] = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">while</span>(n != <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>((n &amp; <span class="number">1</span>) == <span class="number">1</span>)</span><br><span class="line">                res = multiply(res, a);</span><br><span class="line">            n &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">            a = multiply(a, a);</span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">return</span> res;  </span><br><span class="line">    &#125;</span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure><br>计算期望时间：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">calculateExpectedTimeLargeDataSet</span><span class="params">(<span class="type">int</span> locations, <span class="type">int</span> codejamGo, List&lt;String&gt; graph)</span> &#123;</span><br><span class="line">    <span class="type">int</span>[][] edges = <span class="keyword">new</span> <span class="title class_">int</span>[locations][locations];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; locations; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; locations; j++) &#123;</span><br><span class="line">            edges[i][j] = Integer.MAX_VALUE;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; graph.size(); i++) &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">edge</span> <span class="operator">=</span> graph.get(i);</span><br><span class="line">        <span class="type">int</span> <span class="variable">source</span> <span class="operator">=</span> Integer.valueOf(edge.split(<span class="string">&quot; &quot;</span>)[<span class="number">0</span>]);</span><br><span class="line">        <span class="type">int</span> <span class="variable">destination</span> <span class="operator">=</span> Integer.valueOf(edge.split(<span class="string">&quot; &quot;</span>)[<span class="number">1</span>]);</span><br><span class="line">        <span class="type">int</span> <span class="variable">value</span> <span class="operator">=</span> Integer.valueOf(edge.split(<span class="string">&quot; &quot;</span>)[<span class="number">2</span>]);</span><br><span class="line">        edges[source - <span class="number">1</span>][destination - <span class="number">1</span>] = value;</span><br><span class="line">        edges[destination - <span class="number">1</span>][source - <span class="number">1</span>] = value;</span><br><span class="line">    &#125;</span><br><span class="line">    List&lt;Vertex&gt; vertexs = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span>[] distanceSum = <span class="keyword">new</span> <span class="title class_">int</span>[locations];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">begin</span> <span class="operator">=</span> <span class="number">0</span>; begin &lt; locations; begin++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; locations; i++) &#123;</span><br><span class="line">            vertexs.add((i == begin) ? <span class="keyword">new</span> <span class="title class_">Vertex</span>(<span class="number">0</span>) : <span class="keyword">new</span> <span class="title class_">Vertex</span>());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">Problem3</span> <span class="variable">problem3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Problem3</span>(vertexs, edges);</span><br><span class="line">        problem3.search();</span><br><span class="line">        <span class="type">int</span> <span class="variable">totalDistance</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; vertexs.size(); i++) &#123;</span><br><span class="line">            totalDistance += vertexs.get(i).getPath();</span><br><span class="line">        &#125;</span><br><span class="line">        distanceSum[begin] = totalDistance;</span><br><span class="line">        vertexs.clear();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">double</span>[][] zeroCodeJam = <span class="keyword">new</span> <span class="title class_">double</span>[locations + <span class="number">1</span>][<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; zeroCodeJam.length; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; zeroCodeJam[i].length; j++) &#123;</span><br><span class="line">                zeroCodeJam[i][j] = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        zeroCodeJam[locations][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="type">double</span>[][] matris = <span class="keyword">new</span> <span class="title class_">double</span>[locations + <span class="number">1</span>][locations + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; matris.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i != locations) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; matris[i].length; j++) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (i == j) &#123;</span><br><span class="line">                        matris[i][j] = <span class="number">0</span>;</span><br><span class="line">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (j == locations) &#123;</span><br><span class="line">                        matris[i][j] = distanceSum[i] * <span class="number">1.0</span>/(locations - <span class="number">1</span>);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        matris[i][j] = <span class="number">1.0</span>/(locations - <span class="number">1</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (i == locations) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; matris[i].length; j++) &#123;</span><br><span class="line">                    matris[i][j] = j == locations ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        matris = MatricQuickPower.multiplyPower(matris, codejamGo);</span><br><span class="line">        <span class="type">double</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; zeroCodeJam.length; i++) &#123;</span><br><span class="line">            ans += matris[<span class="number">0</span>][i] * zeroCodeJam[i][<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>这个题目还有其他的一些解法，更多解法移步<a target="_blank" rel="noopener" href="https://code.google.com/codejam/contest/7254486/dashboard#s=a&amp;a=2">ProblemC Analysis</a></p>
<h4 id="Problem-D-Eat-Cake"><a href="#Problem-D-Eat-Cake" class="headerlink" title="Problem D. Eat Cake"></a>Problem D. Eat Cake</h4><p>这个题目是关于吃蛋糕的，蛋糕的高度都是一样的，上下两面都是正方形，数量不限制。现在<br>Wheatley想吃面积为N的蛋糕，但是为了健康，想吃的蛋糕块数最少，求最少蛋糕块数。</p>
<p><strong>输入</strong><br>第一行：T，测试用例数<br>接着每行代表一个测试用例：N，表示吃的蛋糕的面积</p>
<p><strong>输出</strong><br>Case #x: y<br>x代表第几个测试用例<br>y代表最小蛋糕块数</p>
<p><strong>小数据集</strong><br>1 ≤ T ≤ 50<br>1 ≤ N ≤ 50</p>
<p><strong>大数据集</strong><br>1 ≤ T ≤ 100<br>1 ≤ N ≤ 10000</p>
<p><strong>栗子</strong><br>输入：<br>3<br>3<br>4<br>5<br>输出：<br>Case #1: 3<br>Case #2: 1<br>Case #3: 2</p>
<p><strong>题目分析</strong><br>首先我们发现小数据集的数据是很小的，我们可以用暴力的方法。</p>
<p><strong>具体代码</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">findCakeNumsByArea</span><span class="params">(<span class="type">int</span> area)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (area == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> Integer.MAX_VALUE;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= Math.sqrt(area); i++) &#123;</span><br><span class="line">        ans = Math.min(ans, findCakeNumsByArea(area - i * i) + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>对于大数据集，我们可以采取动态规划DP。将每次计算的结果保存起来，这个代码比较简单，大家可以看下下面的伪代码：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Problem4</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span>[] alreadyComputed;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] dp;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Problem4</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.alreadyComputed = <span class="keyword">new</span> <span class="title class_">boolean</span>[<span class="number">10000</span> + <span class="number">1</span>];</span><br><span class="line">        <span class="built_in">this</span>.dp = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">10000</span> + <span class="number">1</span>];</span><br><span class="line">        Arrays.fill(alreadyComputed, <span class="literal">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// dp</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findCakeNumsByAreaDp</span><span class="params">(<span class="type">int</span> inputArea)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (inputArea == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (alreadyComputed[inputArea]) <span class="keyword">return</span> dp[inputArea];</span><br><span class="line">        dp[inputArea] = Integer.MAX_VALUE;</span><br><span class="line">        alreadyComputed[inputArea] = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= Math.sqrt(inputArea); i++) &#123;</span><br><span class="line">            dp[inputArea] = Math.min(dp[inputArea], findCakeNumsByAreaDp(inputArea - i * i) + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[inputArea];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>这种方法在使用前，需要提前将1~10000计算下，得到dp这个数组，然后就可以计算给的数据集。</p>
<p>这儿我想介绍一种很简单的方法，就是根据拉格朗日四平方和定理，即任何一个正整数都可以表示成不超过四个整数的平方之和。如果知道这个定理，那这个题目就简单了。代码如下：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">findCakeNumsByArea</span><span class="params">(<span class="type">int</span> area)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= Math.sqrt(area); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(i * i == area) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= Math.sqrt(area); i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i; j &lt;= Math.sqrt(area); j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i * i + j * j == area) <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= Math.sqrt(area); i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i; j &lt;= Math.sqrt(area); j++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> j; k &lt;= Math.sqrt(area); k++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i * i + j * j + k * k == area) <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">4</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>以上的所有题目的完整代码可在<a target="_blank" rel="noopener" href="https://github.com/cutoutsy/google-kickstart/tree/master/2017-round-F">2017-round-F</a>下载。总的来说，这次题目难度不大，考了一些基础了算法，比如快速排序算法，最短路算法等，还有涉及了较多的动态规划，平时还需要多多练习基础算法，多多刷题。</p>
<p>欢迎大家批评指正与交流。</p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/JAVA/" rel="tag"># JAVA</a>
              <a href="/tags/%E8%B0%B7%E6%AD%8C/" rel="tag"># 谷歌</a>
              <a href="/tags/Kickstart/" rel="tag"># Kickstart</a>
              <a href="/tags/F%E8%BD%AE/" rel="tag"># F轮</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/%E4%BA%AC%E4%B8%9C2018%E6%A0%A1%E6%8B%9B%E7%BC%96%E7%A8%8B%E9%A2%98%E8%A7%A3%E7%AD%94%EF%BC%88Java%EF%BC%89.html" rel="prev" title="京东2018校招编程题解答（Java）">
                  <i class="fa fa-angle-left"></i> 京东2018校招编程题解答（Java）
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/%E4%B8%A4%E4%B8%AA%E5%9B%BE%E5%BD%A2%E7%AE%97%E6%B3%95%E9%A2%98.html" rel="next" title="两个图形算法题">
                  两个图形算法题 <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">会微积分的喵</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="站点总字数">341k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">5:10</span>
  </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>

</body>
</html>
